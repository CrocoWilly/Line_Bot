# TOC Project 2022 - LineBot 穿搭怪客
## Introduction
穿搭怪客是一個觀察各種髮型、穿搭風格已久的機器人，他會以他最熟悉的三個風格:"**韓系風**", "**日系風**"以及"**8+9系風**"，為使用者進行"**髮型**"與"**穿搭**"上的分析，提供不同類型的**教學指南**並提供**範例圖片**，讓想了解這些風格的人能夠有基本的認識。


## 操作說明

### 初始畫面
首先，使用者需要發送任意訊息，來觸發穿搭怪客發送初始訊息。

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321099606_681296393497558_2921276219413516255_n.jpg?stp=dst-jpg_p403x403&_nc_cat=108&ccb=1-7&_nc_sid=aee45a&_nc_ohc=yq5a_lO0MAYAX8eEZpa&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdSrlYEhJGemlpZ6ySrMLIGDJJP0QAiEoyKnjGBOAPincQ&oe=63CFE343)

### 輸入「help」，查看如何使用穿搭怪客
在穿搭怪客發送help的訊息後，輸入「back」，穿搭怪客會再次發送初始訊息。

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/320854970_8481191845256303_4056151180616736268_n.jpg?stp=dst-jpg_s480x480&_nc_cat=111&ccb=1-7&_nc_sid=aee45a&_nc_ohc=9AJIvJLwX6EAX92jsjt&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdRUKODse97MkEju7F7_Z2bUHjLDgQMcA6W_gOvcI1vIAQ&oe=63CFC7CC)

### 輸入「fsm」，查看fsm圖
在穿搭怪客發送fsm圖後，輸入「back」，穿搭怪客會再次發送初始訊息。

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321590221_707827557639554_9172214945201371475_n.jpg?stp=dst-jpg_s403x403&_nc_cat=102&ccb=1-7&_nc_sid=aee45a&_nc_ohc=mQ65mEwC4qkAX86kqx7&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdRPJ-bOnxbg2RfRp-JzlXeJNXmKNFQ9fQ0vueiEyr27ZA&oe=63CFC3A8)


### 輸入「start」，進入主選單
輸入「start」後，進入正式髮型、穿搭教學。

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321240768_512731237327510_8412541516852500997_n.jpg?stp=dst-jpg_s403x403&_nc_cat=108&ccb=1-7&_nc_sid=aee45a&_nc_ohc=5vSt0hPPD_gAX9sfSeE&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdSs4-CbKsWRjNxeCkQBAjA7lpqGmvBBKY8FsZ_RwCQDfg&oe=63CFED91)


### 共三個風格，以韓系風做舉例說明
點選主選單中的「韓系風」按鈕後，會跳出另一個選單，
使用者可以選擇了解「髮型」或「穿搭」。

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/320739439_681615560232795_7561313111444031212_n.jpg?stp=dst-jpg_s403x403&_nc_cat=101&ccb=1-7&_nc_sid=aee45a&_nc_ohc=8_x7dnxhHE4AX8-QY8Z&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQxzInrRiScPZivc0zvONK5X0F-_guKvSSkarj3kU7B3g&oe=63CFCCAB)


#### 若在"韓系風選單"中點選「髮型」，會出現下面的"髮型風格指南"選單
![](https://scontent.xx.fbcdn.net/v/t1.15752-9/320671120_894833791949935_7445305193260223956_n.jpg?stp=dst-jpg_s403x403&_nc_cat=101&ccb=1-7&_nc_sid=aee45a&_nc_ohc=lGmf4s64i5QAX-DRIcc&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQ9Wierdf-MzwcrofKluUal4AsAshsqA6Jcb3o5PfAhOw&oe=63CFBC1A)


#### 若在"韓系風選單"中點選「穿搭」，則會出現下面的"穿搭風格指南"選單
![](https://scontent.xx.fbcdn.net/v/t1.15752-9/320733412_865542734778530_7254882550519410368_n.jpg?stp=dst-jpg_s403x403&_nc_cat=102&ccb=1-7&_nc_sid=aee45a&_nc_ohc=4PyntzzL6wsAX-tKc8y&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdRNL-bilw_OjpM36mHOLTcnpIGEi9yjp08nUv1xck4YtQ&oe=63CFD596)

------------------------------------------------------------------------

### 以"韓系風選單"中點選「髮型」做舉例:
![](https://scontent.xx.fbcdn.net/v/t1.15752-9/320671120_894833791949935_7445305193260223956_n.jpg?stp=dst-jpg_s403x403&_nc_cat=101&ccb=1-7&_nc_sid=aee45a&_nc_ohc=lGmf4s64i5QAX-DRIcc&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQ9Wierdf-MzwcrofKluUal4AsAshsqA6Jcb3o5PfAhOw&oe=63CFBC1A)

#### 點選「風格指南」，穿搭怪客會傳送韓系髮型的風格指南
輸入「back」，即可回到上一步驟的選單

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321296625_668680791393942_8687988580378992091_n.jpg?stp=dst-jpg_p403x403&_nc_cat=109&ccb=1-7&_nc_sid=aee45a&_nc_ohc=BGJEpj6vaKwAX_lEHWD&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdTyitYV9w4U774bM12JSLNMqICCGe347BVEIa6lX3li7Q&oe=63CFFE62)

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321138690_681805050119097_7579985421238901207_n.jpg?stp=dst-jpg_s403x403&_nc_cat=100&ccb=1-7&_nc_sid=aee45a&_nc_ohc=HmovdUB8CZ8AX8SmlQ6&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQOSkQk_An9c13vez42LDNbgqEBneQulbygIHJVIhqwSg&oe=63D0023A)


#### 點選「圖片範本」，穿搭怪客會傳送韓系髮型的圖片範本
輸入「back」，即可回到上一步驟的選單

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321131448_944805940236330_8513661732241672807_n.jpg?stp=dst-jpg_s403x403&_nc_cat=106&ccb=1-7&_nc_sid=aee45a&_nc_ohc=y7Q__jhnZCkAX-q_nev&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQckQ3YumXB6F23gQ65L5S1ILmzHjTFO5e8eOEqqAlgzw&oe=63CFF531)

![](https://scontent.xx.fbcdn.net/v/t1.15752-9/321072650_2123667767831526_3751787908296131311_n.jpg?stp=dst-jpg_p320x320&_nc_cat=110&ccb=1-7&_nc_sid=aee45a&_nc_ohc=jx5kUF4jGeUAX_n4ZV6&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQKhCg8_o80zU6OukZR-uyd82haoAAS9W4DUTIM6ta9FQ&oe=63CFFB96)

#### 點選「回主選單」，將會跳到"選擇風格的主選單"
![](https://scontent.xx.fbcdn.net/v/t1.15752-9/320590943_487119076898480_7316519423663670528_n.jpg?stp=dst-jpg_s403x403&_nc_cat=110&ccb=1-7&_nc_sid=aee45a&_nc_ohc=_RF6QHRZBbsAX_v0P8A&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_AdQHXvWbxoVo90VBvQDd1k184i9oK1gC7S0nodgAL5RGvA&oe=63D00229)



### 韓系風的「穿搭」與韓系風「髮型」的操作雷同，而其他風格(日系風、8+9風)與韓系風的操作類似。
### 以上就是穿搭怪客的操作說明。



## FSM圖
![fsm](https://img.onl/VzTSfv)


### 設計想法
我把三個不同的風格寫成同一個架構。也就是說，若操作行為相同，不管是何種風格，他們在state的探訪都會是相同路徑。而區分不同的風格的方法是利用讀「button text」，並設立不同的flag來判斷屬於何種風格、是髮型或是穿搭。

### Usage
`user` state: initial state

每次從`user` state "advance"到`help` state或`fsm` state，穿搭怪客都會先產生對應的回應，再"go_back"回到`user` state。而在`help` state的訊息中，穿搭怪客會提示使用者需要輸入「back」，才能讓使用者回到上一步。


* user
	* Input: "help"
		* Reply: "產生help的文字訊息"
	* Input: "fsm"
		* Reply: "產生FSM圖"
    * Input: "start"
        * Reply: "產生主選單menu"
         
* menu 
    * Input: "按選單中的按鈕「韓系風」"
        * Reply: "產生韓系風的選單"
    * Input: "按選單中的按鈕「日系風」"
        * Reply: "產生日系風的選單"
    * Input: "按選單中的按鈕「8+9風」"
        * Reply: "產生8+9風的選單"
    * Input: "按選單中的按鈕「回初始畫面」"
        * Reply: "產生初始畫面的訊息"
        
* choose_type
    * Input: "按選單中的按鈕「髮型」"
        * Reply: "產生「髮型風格指南」選單"
    * Input: "按選單中的按鈕「穿搭」"
        * Reply: "產生「穿搭風格指南」選單"
        
* teach_or_example
    * Input: "按選單中的按鈕「風格指南」"
        * Reply: "產生該風格的教學指南"  e.g.韓系髮型教學指南
    * Input: "按選單中的按鈕「圖片範本」"
        * Reply: "產生該風格的圖片範本"  e.g.韓系髮型圖片範本
    * Input: "按選單中的按鈕「回主選單」"
        * Reply: "產生主選單menu"
        
* teach
    * Input: "back"
        * Reply: "回到上一步驟的選單" e.g.「髮型風格指南」選單

* example
    * Input: "back"
        * Reply: "回到上一步驟的選單" e.g.「髮型風格指南」選單

## Bonus 
- 使用 **Line API**
- 使用不少**image**


## Reference
[Pipenv](https://medium.com/@chihsuan/pipenv-更簡單-更快速的-python-套件管理工具-135a47e504f4) ❤️ [@chihsuan](https://github.com/chihsuan)

[TOC-Project-2019](https://github.com/winonecheng/TOC-Project-2019) ❤️ [@winonecheng](https://github.com/winonecheng)

Flask Architecture ❤️ [@Sirius207](https://github.com/Sirius207)

[Line line-bot-sdk-python](https://github.com/line/line-bot-sdk-python/tree/master/examples/flask-echo)